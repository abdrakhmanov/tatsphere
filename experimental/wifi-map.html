<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Карта Wi-Fi Казани</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    html, body, #map {
      width: 100%; height: 100%; padding: 0; margin: 0;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script>
    // Ждём загрузки API Яндекса
    ymaps.ready(init);

    function init() {
      // Создание карты
      const map = new ymaps.Map("map", {
        center: [55.796127, 49.106414], // Центр Казани
        zoom: 12
      });

      // Загружаем JSON-файл с координатами
      fetch('https://gist.githubusercontent.com/abdrakhmanov/2d1c8104011a391925bd0c2889e45988/raw/b267ed52c787d0654678a3d27f0fb4d1bc99b7ce/kazan_wifi.json')
        .then(response => response.json())
        .then(data => {
          data.forEach(point => {
            const placemark = new ymaps.Placemark([point.lat, point.lon], {
              balloonContent: point.name || "Wi-Fi точка"
            }, {
              preset: 'islands#blueDotIcon'
            });
            map.geoObjects.add(placemark);
          });
        })
        .catch(error => {
          console.error("Ошибка при загрузке координат:", error);
        });
    }
  </script>
</body>
</html>
